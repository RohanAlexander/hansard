#### Preamble ####
# Purpose: This file gets Australian Hansard XML data from Open Australia https://www.openaustralia.org.au/.
# Author: Rohan Alexander
# Email: rohan.alexander@anu.edu.au
# Last updated: 3 August 2018
# Prerequisites: 
# To do:


#### Set up workspace ####
# Load libraries
library(xml2)
# update.packages()


#### Scraping ####
# Make lists of the dates to get
file_names <- c("2006-02-07.xml", "2006-02-08.xml", "2006-02-09.xml", "2006-02-13.xml", "2006-02-14.xml", "2006-02-15.xml", "2006-02-16.xml", "2006-02-27.xml", "2006-02-28.xml", "2006-03-01.xml", "2006-03-02.xml", "2006-03-27.xml", "2006-03-28.xml", "2006-03-29.xml", "2006-03-30.xml", "2006-05-09.xml", "2006-05-10.xml", "2006-05-11.xml", "2006-05-22.xml", "2006-05-23.xml", "2006-05-24.xml", "2006-05-25.xml", "2006-05-29.xml", "2006-05-30.xml", "2006-05-31.xml", "2006-06-01.xml", "2006-06-13.xml", "2006-06-14.xml", "2006-06-15.xml", "2006-06-19.xml", "2006-06-20.xml", "2006-06-21.xml", "2006-06-22.xml", "2006-08-08.xml", "2006-08-09.xml", "2006-08-10.xml", "2006-08-14.xml", "2006-08-15.xml", "2006-08-16.xml", "2006-08-17.xml", "2006-09-04.xml", "2006-09-05.xml", "2006-09-06.xml", "2006-09-07.xml", "2006-09-11.xml", "2006-09-12.xml", "2006-09-13.xml", "2006-09-14.xml", "2006-10-09.xml", "2006-10-10.xml", "2006-10-11.xml", "2006-10-12.xml", "2006-10-16.xml", "2006-10-17.xml", "2006-10-18.xml", "2006-10-19.xml", "2006-10-30.xml", "2006-10-31.xml", "2006-11-01.xml", "2006-11-02.xml", "2006-11-27.xml", "2006-11-28.xml", "2006-11-29.xml", "2006-11-30.xml", "2006-12-04.xml", "2006-12-05.xml", "2006-12-06.xml", "2006-12-07.xml")

file_names_second <- c("2007-02-06.xml", "2007-02-07.xml", "2007-02-08.xml", "2007-02-12.xml", "2007-02-13.xml", "2007-02-14.xml", "2007-02-15.xml", "2007-02-26.xml", "2007-02-27.xml", "2007-02-28.xml", "2007-03-01.xml", "2007-03-20.xml", "2007-03-21.xml", "2007-03-22.xml", "2007-03-26.xml", "2007-03-27.xml", "2007-03-28.xml", "2007-03-29.xml", "2007-05-08.xml", "2007-05-09.xml", "2007-05-10.xml", "2007-05-21.xml", "2007-05-22.xml", "2007-05-23.xml", "2007-05-24.xml", "2007-05-28.xml", "2007-05-29.xml", "2007-05-30.xml", "2007-05-31.xml", "2007-06-12.xml", "2007-06-13.xml", "2007-06-14.xml", "2007-06-18.xml", "2007-06-19.xml", "2007-06-20.xml", "2007-06-21.xml", "2007-08-07.xml", "2007-08-08.xml", "2007-08-09.xml", "2007-08-13.xml", "2007-08-14.xml", "2007-08-15.xml", "2007-08-16.xml", "2007-09-11.xml", "2007-09-12.xml", "2007-09-13.xml", "2007-09-17.xml", "2007-09-18.xml", "2007-09-19.xml", "2007-09-20.xml", "2008-02-12.xml", "2008-02-13.xml", "2008-02-14.xml", "2008-02-18.xml", "2008-02-19.xml", "2008-02-20.xml", "2008-02-21.xml", "2008-02-22.xml", "2008-03-11.xml", "2008-03-12.xml", "2008-03-13.xml", "2008-03-17.xml", "2008-03-18.xml", "2008-03-19.xml", "2008-03-20.xml", "2008-05-13.xml", "2008-05-14.xml", "2008-05-15.xml", "2008-05-26.xml", "2008-05-27.xml", "2008-05-28.xml", "2008-05-29.xml", "2008-06-02.xml", "2008-06-03.xml", "2008-06-04.xml", "2008-06-05.xml", "2008-06-16.xml", "2008-06-17.xml", "2008-06-18.xml", "2008-06-19.xml", "2008-06-23.xml", "2008-06-24.xml", "2008-06-25.xml", "2008-06-26.xml", "2008-08-26.xml", "2008-08-27.xml", "2008-08-28.xml", "2008-09-01.xml", "2008-09-02.xml", "2008-09-03.xml", "2008-09-04.xml", "2008-09-15.xml", "2008-09-16.xml", "2008-09-17.xml", "2008-09-18.xml", "2008-09-22.xml", "2008-09-23.xml", "2008-09-24.xml", "2008-09-25.xml", "2008-10-13.xml", "2008-10-14.xml", "2008-10-15.xml", "2008-10-16.xml", "2008-10-20.xml", "2008-10-21.xml", "2008-10-22.xml", "2008-10-23.xml", "2008-11-10.xml", "2008-11-11.xml", "2008-11-12.xml", "2008-11-13.xml", "2008-11-24.xml", "2008-11-25.xml", "2008-11-26.xml", "2008-11-27.xml", "2008-12-01.xml", "2008-12-02.xml", "2008-12-03.xml", "2008-12-04.xml", "2009-02-03.xml", "2009-02-04.xml", "2009-02-05.xml", "2009-02-09.xml", "2009-02-10.xml", "2009-02-11.xml", "2009-02-12.xml", "2009-02-23.xml", "2009-02-24.xml", "2009-02-25.xml", "2009-02-26.xml", "2009-03-10.xml", "2009-03-11.xml", "2009-03-12.xml", "2009-03-16.xml", "2009-03-17.xml", "2009-03-18.xml", "2009-03-19.xml", "2009-05-12.xml", "2009-05-13.xml", "2009-05-14.xml", "2009-05-25.xml", "2009-05-26.xml", "2009-05-27.xml", "2009-05-28.xml", "2009-06-01.xml", "2009-06-02.xml", "2009-06-03.xml", "2009-06-04.xml", "2009-06-15.xml", "2009-06-16.xml", "2009-06-17.xml", "2009-06-18.xml", "2009-06-22.xml", "2009-06-23.xml", "2009-06-24.xml", "2009-06-25.xml", "2009-08-11.xml", "2009-08-12.xml", "2009-08-13.xml", "2009-08-17.xml", "2009-08-18.xml", "2009-08-19.xml", "2009-08-20.xml", "2009-09-07.xml", "2009-09-08.xml", "2009-09-09.xml", "2009-09-10.xml", "2009-09-14.xml", "2009-09-15.xml", "2009-09-16.xml", "2009-09-17.xml", "2009-10-19.xml", "2009-10-20.xml", "2009-10-21.xml", "2009-10-22.xml", "2009-10-26.xml", "2009-10-27.xml", "2009-10-28.xml", "2009-10-29.xml", "2009-11-16.xml", "2009-11-17.xml", "2009-11-18.xml", "2009-11-19.xml", "2009-11-23.xml", "2009-11-24.xml", "2009-11-25.xml", "2009-11-26.xml")

file_names_third <- c("2010-02-02.xml", "2010-02-03.xml", "2010-02-04.xml", "2010-02-08.xml", "2010-02-09.xml", "2010-02-10.xml", "2010-02-11.xml", "2010-02-22.xml", "2010-02-23.xml", "2010-02-24.xml", "2010-02-25.xml", "2010-03-09.xml", "2010-03-10.xml", "2010-03-11.xml", "2010-03-15.xml", "2010-03-16.xml", "2010-03-17.xml", "2010-03-18.xml", "2010-05-11.xml", "2010-05-12.xml", "2010-05-13.xml", "2010-05-24.xml", "2010-05-25.xml", "2010-05-26.xml", "2010-05-27.xml", "2010-05-31.xml", "2010-06-01.xml", "2010-06-02.xml", "2010-06-03.xml", "2010-06-15.xml", "2010-06-16.xml", "2010-06-17.xml", "2010-06-21.xml", "2010-06-22.xml", "2010-06-23.xml", "2010-06-24.xml", "2010-09-28.xml", "2010-09-29.xml", "2010-09-30.xml", "2010-10-18.xml", "2010-10-19.xml", "2010-10-20.xml", "2010-10-21.xml", "2010-10-25.xml", "2010-10-26.xml", "2010-10-27.xml", "2010-10-28.xml", "2010-11-15.xml", "2010-11-16.xml", "2010-11-17.xml", "2010-11-18.xml", "2010-11-22.xml", "2010-11-23.xml", "2010-11-24.xml", "2010-11-25.xml", "2011-02-08.xml", "2011-02-09.xml", "2011-02-10.xml", "2011-02-21.xml", "2011-02-22.xml", "2011-02-23.xml", "2011-02-24.xml", "2011-02-28.xml", "2011-03-01.xml", "2011-03-02.xml", "2011-03-03.xml", "2011-03-21.xml", "2011-03-22.xml", "2011-03-23.xml", "2011-03-24.xml", "2011-05-10.xml", "2011-05-11.xml", "2011-05-12.xml", "2011-05-23.xml", "2011-05-24.xml", "2011-05-25.xml", "2011-05-26.xml", "2011-05-30.xml", "2011-05-31.xml", "2011-06-01.xml", "2011-06-02.xml", "2011-06-14.xml", "2011-06-15.xml", "2011-06-16.xml", "2011-06-20.xml", "2011-06-21.xml", "2011-06-22.xml", "2011-06-23.xml", "2011-07-04.xml", "2011-07-05.xml", "2011-07-06.xml", "2011-07-07.xml", "2011-08-16.xml", "2011-08-17.xml", "2011-08-18.xml", "2011-08-22.xml", "2011-08-23.xml", "2011-08-24.xml", "2011-08-25.xml", "2011-09-12.xml", "2011-09-13.xml", "2011-09-14.xml", "2011-09-15.xml", "2011-09-19.xml", "2011-09-20.xml", "2011-09-21.xml", "2011-09-22.xml", "2011-10-11.xml", "2011-10-12.xml", "2011-10-13.xml", "2011-10-31.xml", "2011-11-01.xml", "2011-11-02.xml", "2011-11-03.xml", "2011-11-17.xml", "2011-11-21.xml", "2011-11-22.xml", "2011-11-23.xml", "2011-11-24.xml")

file_names_fourth <- c("2012-02-07.xml", "2012-02-08.xml", "2012-02-09.xml", "2012-02-13.xml", "2012-02-14.xml", "2012-02-15.xml", "2012-02-16.xml", "2012-02-27.xml", "2012-02-28.xml", "2012-02-29.xml", "2012-03-01.xml", "2012-03-13.xml", "2012-03-14.xml", "2012-03-15.xml", "2012-03-19.xml", "2012-03-20.xml", "2012-03-21.xml", "2012-03-22.xml", "2012-05-08.xml", "2012-05-09.xml", "2012-05-10.xml", "2012-05-21.xml", "2012-05-22.xml", "2012-05-23.xml", "2012-05-24.xml", "2012-05-28.xml", "2012-05-29.xml", "2012-05-30.xml", "2012-05-31.xml", "2012-06-18.xml", "2012-06-19.xml", "2012-06-20.xml", "2012-06-21.xml", "2012-06-25.xml", "2012-06-26.xml", "2012-06-27.xml", "2012-06-28.xml", "2012-08-14.xml", "2012-08-15.xml", "2012-08-16.xml", "2012-08-20.xml", "2012-08-21.xml", "2012-08-22.xml", "2012-08-23.xml", "2012-09-10.xml", "2012-09-11.xml", "2012-09-12.xml", "2012-09-13.xml", "2012-09-17.xml", "2012-09-18.xml", "2012-09-19.xml", "2012-09-20.xml", "2012-10-09.xml", "2012-10-10.xml", "2012-10-11.xml", "2012-10-29.xml", "2012-10-30.xml", "2012-10-31.xml", "2012-11-01.xml", "2012-11-26.xml", "2012-11-27.xml", "2012-11-28.xml", "2012-11-29.xml", "2013-02-05.xml", "2013-02-06.xml", "2013-02-07.xml", "2013-02-11.xml", "2013-02-12.xml", "2013-02-13.xml", "2013-02-14.xml", "2013-03-12.xml", "2013-03-13.xml", "2013-03-14.xml", "2013-03-18.xml", "2013-03-19.xml", "2013-03-20.xml", "2013-03-21.xml", "2013-05-14.xml", "2013-05-15.xml", "2013-05-16.xml", "2013-05-27.xml", "2013-05-28.xml", "2013-05-29.xml", "2013-05-30.xml", "2013-06-03.xml", "2013-06-04.xml", "2013-06-05.xml", "2013-06-06.xml", "2013-06-17.xml", "2013-06-18.xml", "2013-06-19.xml", "2013-06-20.xml", "2013-06-24.xml", "2013-06-25.xml", "2013-06-26.xml", "2013-06-27.xml", "2013-11-12.xml", "2013-11-13.xml", "2013-11-14.xml", "2013-11-18.xml", "2013-11-19.xml", "2013-11-20.xml", "2013-11-21.xml", "2013-12-02.xml", "2013-12-03.xml", "2013-12-04.xml", "2013-12-05.xml", "2013-12-09.xml", "2013-12-10.xml", "2013-12-11.xml", "2013-12-12.xml")

file_names_fifth <- c("2014-02-11.xml", "2014-02-12.xml", "2014-02-13.xml", "2014-02-24.xml", "2014-02-25.xml", "2014-02-26.xml", "2014-02-27.xml", "2014-03-03.xml", "2014-03-04.xml", "2014-03-05.xml", "2014-03-06.xml", "2014-03-17.xml", "2014-03-18.xml", "2014-03-19.xml", "2014-03-20.xml", "2014-03-24.xml", "2014-03-25.xml", "2014-03-26.xml", "2014-03-27.xml", "2014-05-13.xml", "2014-05-14.xml", "2014-05-15.xml", "2014-05-26.xml", "2014-05-27.xml", "2014-05-28.xml", "2014-05-29.xml", "2014-06-02.xml", "2014-06-03.xml", "2014-06-04.xml", "2014-06-05.xml", "2014-06-16.xml", "2014-06-17.xml", "2014-06-18.xml", "2014-06-19.xml", "2014-06-23.xml", "2014-06-24.xml", "2014-06-25.xml", "2014-06-26.xml", "2014-07-08.xml", "2014-07-14.xml", "2014-07-15.xml", "2014-07-16.xml", "2014-07-17.xml", "2014-08-26.xml", "2014-08-27.xml", "2014-08-28.xml", "2014-09-01.xml", "2014-09-02.xml", "2014-09-03.xml", "2014-09-04.xml", "2014-09-22.xml", "2014-09-23.xml", "2014-09-24.xml", "2014-09-25.xml", "2014-09-30.xml", "2014-10-01.xml", "2014-10-02.xml", "2014-10-20.xml", "2014-10-21.xml", "2014-10-22.xml", "2014-10-23.xml", "2014-10-27.xml", "2014-10-28.xml", "2014-10-29.xml", "2014-10-30.xml", "2014-11-14.xml", "2014-11-17.xml", "2014-11-18.xml", "2014-11-24.xml", "2014-11-25.xml", "2014-11-26.xml", "2014-11-27.xml", "2014-12-01.xml", "2014-12-02.xml", "2014-12-03.xml", "2014-12-04.xml", "2015-02-09.xml", "2015-02-10.xml", "2015-02-11.xml", "2015-02-12.xml", "2015-02-23.xml", "2015-02-24.xml", "2015-02-25.xml", "2015-02-26.xml", "2015-03-02.xml", "2015-03-03.xml", "2015-03-04.xml", "2015-03-05.xml", "2015-03-16.xml", "2015-03-17.xml", "2015-03-18.xml", "2015-03-19.xml", "2015-03-23.xml", "2015-03-24.xml", "2015-03-25.xml", "2015-03-26.xml", "2015-05-12.xml", "2015-05-13.xml", "2015-05-14.xml", "2015-05-25.xml", "2015-05-26.xml", "2015-05-27.xml", "2015-05-28.xml", "2015-06-01.xml", "2015-06-02.xml", "2015-06-03.xml", "2015-06-04.xml", "2015-06-15.xml", "2015-06-16.xml", "2015-06-17.xml", "2015-06-18.xml", "2015-06-22.xml", "2015-06-23.xml", "2015-06-24.xml", "2015-06-25.xml", "2015-08-10.xml", "2015-08-11.xml", "2015-08-12.xml", "2015-08-13.xml", "2015-08-17.xml", "2015-08-18.xml", "2015-08-19.xml", "2015-08-20.xml", "2015-09-07.xml", "2015-09-08.xml", "2015-09-09.xml", "2015-09-10.xml", "2015-09-14.xml", "2015-09-15.xml", "2015-09-16.xml", "2015-09-17.xml", "2015-10-12.xml", "2015-10-13.xml", "2015-10-14.xml", "2015-10-15.xml", "2015-10-19.xml", "2015-10-20.xml", "2015-10-21.xml", "2015-10-22.xml", "2015-11-09.xml", "2015-11-10.xml", "2015-11-11.xml", "2015-11-12.xml", "2015-11-23.xml", "2015-11-24.xml", "2015-11-25.xml", "2015-11-26.xml", "2015-11-30.xml", "2015-12-01.xml", "2015-12-02.xml", "2015-12-03.xml")

file_names_sixth <- c("2016-02-02.xml", "2016-02-03.xml", "2016-02-04.xml", "2016-02-08.xml", "2016-02-09.xml", "2016-02-10.xml", "2016-02-11.xml", "2016-02-22.xml", "2016-02-23.xml", "2016-02-24.xml", "2016-02-25.xml", "2016-02-29.xml", "2016-03-01.xml", "2016-03-02.xml", "2016-03-03.xml", "2016-03-15.xml", "2016-03-16.xml", "2016-03-17.xml", "2016-04-18.xml", "2016-04-19.xml", "2016-05-02.xml", "2016-05-03.xml", "2016-05-04.xml", "2016-05-05.xml", "2016-08-30.xml", "2016-08-31.xml", "2016-09-01.xml", "2016-09-12.xml", "2016-09-13.xml", "2016-09-14.xml", "2016-09-15.xml", "2016-10-10.xml", "2016-10-11.xml", "2016-10-12.xml", "2016-10-13.xml", "2016-10-17.xml", "2016-10-18.xml", "2016-10-19.xml", "2016-10-20.xml", "2016-11-07.xml", "2016-11-08.xml", "2016-11-09.xml", "2016-11-10.xml", "2016-11-21.xml", "2016-11-22.xml", "2016-11-23.xml", "2016-11-24.xml", "2016-11-28.xml", "2016-11-29.xml", "2016-11-30.xml", "2016-12-01.xml", "2017-02-07.xml", "2017-02-08.xml", "2017-02-09.xml", "2017-02-13.xml", "2017-02-14.xml", "2017-02-15.xml", "2017-02-16.xml", "2017-02-27.xml", "2017-02-28.xml", "2017-03-01.xml", "2017-03-02.xml", "2017-03-20.xml", "2017-03-21.xml", "2017-03-22.xml", "2017-03-23.xml", "2017-03-27.xml", "2017-03-28.xml", "2017-03-29.xml", "2017-03-30.xml", "2017-05-09.xml", "2017-05-10.xml", "2017-05-11.xml", "2017-05-22.xml", "2017-05-23.xml", "2017-05-24.xml", "2017-05-25.xml", "2017-05-29.xml", "2017-05-30.xml", "2017-05-31.xml", "2017-06-01.xml", "2017-06-13.xml", "2017-06-14.xml", "2017-06-15.xml", "2017-06-19.xml", "2017-06-20.xml", "2017-06-21.xml", "2017-06-22.xml", "2017-08-08.xml", "2017-08-09.xml", "2017-08-10.xml", "2017-08-14.xml", "2017-08-15.xml", "2017-08-16.xml", "2017-08-17.xml", "2017-09-04.xml", "2017-09-05.xml", "2017-09-06.xml", "2017-09-07.xml", "2017-09-11.xml", "2017-09-12.xml", "2017-09-13.xml", "2017-09-14.xml", "2017-10-16.xml", "2017-10-17.xml", "2017-10-18.xml", "2017-10-19.xml", "2017-10-23.xml", "2017-10-24.xml", "2017-10-25.xml", "2017-10-26.xml", "2017-12-04.xml", "2017-12-05.xml", "2017-12-06.xml", "2017-12-07.xml")


# Iterate through whichever list is of interest
for (i in file_names_sixth) { 
  address <-
    paste0("http://data.openaustralia.org.au/origxml/representatives_debates/",
           i) # The address of the XML
  save_name <- paste0("data/hansard_1981_on/hansard_2006_on/open_australia_hansard_", i) # The name to save the file as
  download_xml(address, save_name) # Get and save the XML
  
  Sys.sleep(10) # Space out requests by 10 seconds
  
  print(paste("Done with file ",
              i,
              "at",
              Sys.time()))  # Helpful so that you know progress when running it on all the records
}

# Clean up
rm(i, address, file_names_sixth, save_name)